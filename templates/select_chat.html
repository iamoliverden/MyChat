<!-- select_chat.html -->

{% load static %}

<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="{% static 'css/styles.css' %}">
</head>

<body>
  <div>
    <h1>Select a Chat Room</h1>
    <p>User:
    {% if user.is_authenticated %}
    {{ user.username }}
    {% else %}
    Anonymous
    {% endif %}
    </p>
    {% if user.is_authenticated %}
      <!-- Logout Button -->
      <a href="{% url 'logout' %}"><button>Logout</button></a>
    {% endif %}
  </div>

  {% if user.is_authenticated %}
    <div id="chat-list">
      {% for chat in chats %}
        <div class="chat" data-chat-id="{{ chat.id }}">
          <h2>{{ chat.chat_name }}</h2>
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <script src="{% static 'select_chat.js' %}"></script>
</body>
</html>
